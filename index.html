      ctx.arc(d.x,d.y,d.r,0,Math.PI*2);
      ctx.fillStyle="rgba(34,211,238,.9)";
      ctx.fill();

      for(let j=i+1;j<dots.length;j++){
        const d2=dots[j];
        const dx=d.x-d2.x, dy=d.y-d2.y;
        const dist=Math.sqrt(dx*dx+dy*dy);

        if(dist<MAX){
          ctx.beginPath();
          ctx.moveTo(d.x,d.y);
          ctx.lineTo(d2.x,d2.y);
          ctx.strokeStyle=`rgba(29,161,242,${1-dist/MAX})`;
          ctx.lineWidth=1;
          ctx.stroke();
        }
      }
    }
    requestAnimationFrame(animate);
  }
  animate();
});
</script>

</body>
</html>



